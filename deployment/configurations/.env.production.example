# Socrates API - Production Environment Configuration
# Copy to .env.production and fill in actual values

# ============================================================================
# API Configuration
# ============================================================================

# Server host and port
SOCRATES_API_HOST=0.0.0.0
SOCRATES_API_PORT=8000
SOCRATES_API_RELOAD=false

# Environment (development, staging, production)
ENVIRONMENT=production

# ============================================================================
# Security
# ============================================================================

# JWT secret for token signing (generate with: python scripts/generate_jwt_secret.py)
# CRITICAL: Change this to a random 32+ character string in production!
JWT_SECRET_KEY=your-secret-key-here-change-me

# Allowed origins for CORS (comma-separated)
# Examples: https://socrates.app,https://app.socrates.app
ALLOWED_ORIGINS=https://socrates.app

# ============================================================================
# Database
# ============================================================================

# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@postgres:5432/socrates

# SQLite fallback (for development only)
# DATABASE_URL=sqlite:////root/.socrates/projects.db

# ============================================================================
# Cache & Real-time
# ============================================================================

# Redis for distributed caching and rate limiting
REDIS_URL=redis://redis:6379

# ChromaDB for vector embeddings
CHROMADB_URL=http://chromadb:8000

# ============================================================================
# LLM Provider
# ============================================================================

# Anthropic Claude API
ANTHROPIC_API_KEY=sk-ant-...

# Claude model to use
CLAUDE_MODEL=claude-haiku-4-5-20251001

# ============================================================================
# Monitoring & Observability
# ============================================================================

# Sentry for error tracking (optional)
SENTRY_DSN=

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# Feature Flags
# ============================================================================

# Rate limiting
ENABLE_RATE_LIMITING=true

# Prometheus metrics collection
ENABLE_METRICS=true

# WebSocket support
ENABLE_WEBSOCKET=true

# Database query profiling
ENABLE_QUERY_PROFILING=true

# ============================================================================
# Data Persistence
# ============================================================================

# Directory for logs
LOGS_DIR=/var/log/socrates

# Directory for data files
DATA_DIR=/var/lib/socrates

# Directory for backups
BACKUP_DIR=/backups

# ============================================================================
# S3 Backup (optional)
# ============================================================================

# AWS credentials for S3 backup support
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET=

# ============================================================================
# Email Notifications (optional)
# ============================================================================

# SMTP configuration for email notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@socrates.app

# ============================================================================
# Application Settings
# ============================================================================

# Max file upload size (bytes)
MAX_UPLOAD_SIZE=10485760  # 10MB

# Request timeout (seconds)
REQUEST_TIMEOUT=30

# Session timeout (seconds)
SESSION_TIMEOUT=3600

# ============================================================================
# Development/Advanced Settings (production defaults)
# ============================================================================

# Database pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# Slow query threshold (milliseconds)
SLOW_QUERY_THRESHOLD_MS=100

# Rate limit settings
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORAGE=redis

# NOTES FOR PRODUCTION DEPLOYMENT:
# 1. Generate a new JWT_SECRET_KEY: python scripts/generate_jwt_secret.py
# 2. Never commit this file to version control (add to .gitignore)
# 3. Use a secrets manager (AWS Secrets Manager, Vault, etc.) for production
# 4. Ensure all external services (PostgreSQL, Redis, etc.) are secure
# 5. Enable HTTPS/TLS for all connections
# 6. Configure proper logging and monitoring
# 7. Set up automated backups
# 8. Review and test all security settings
